/* ═══════════════════════════════════════════════
   BROCE™ Layout v4.0 — Premium Editorial
   ═══════════════════════════════════════════════ */

.container {
    width: min(var(--container), calc(100% - 48px));
    margin: 0 auto;
}

.section {
    padding: clamp(80px, 12vw, 160px) 0;
}

/* Skip rendering for offscreen sections */
.section:not(.hero) {
    content-visibility: auto;
    contain-intrinsic-size: auto 800px;
}

.section-tight {
    padding-top: clamp(64px, 8vw, 110px);
    padding-bottom: clamp(64px, 8vw, 110px);
}

.section-muted {
    background: linear-gradient(180deg,
            rgba(15, 28, 46, 0.18) 0%,
            rgba(15, 28, 46, 0.28) 50%,
            rgba(15, 28, 46, 0.18) 100%);
    border-top: 1px solid var(--line-subtle);
    border-bottom: 1px solid var(--line-subtle);
}

[data-theme="light"] .section-muted {
    background: linear-gradient(180deg,
            rgba(0, 0, 0, 0.015) 0%,
            rgba(0, 0, 0, 0.025) 50%,
            rgba(0, 0, 0, 0.015) 100%);
}

/* ── Section Head — more breathing room ── */

.section-head {
    max-width: 800px;
}

.section-head p {
    margin-top: 16px;
    max-width: 60ch;
    font-size: 1.05rem;
    line-height: 1.7;
}

.eyebrow {
    display: inline-block;
    margin-bottom: 18px;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: var(--accent);
}

/* ═══════════════════════════════════════════════
   AMBIENT BACKGROUND — Minimal, Cinematic
   Just enough texture to feel alive, not noisy
   ═══════════════════════════════════════════════ */

.ambient {
    position: fixed;
    inset: 0;
    z-index: var(--z-ambient);
    overflow: hidden;
    pointer-events: none;
}

.ambient-gradient,
.ambient-grid,
.ambient-noise,
.ambient-mat {
    position: absolute;
    inset: 0;
}

/* Dark: deep, quiet, minimal color wash */
.ambient-gradient {
    background:
        radial-gradient(50rem 40rem at 0% -10%, rgba(124, 168, 130, 0.05), transparent 70%),
        radial-gradient(40rem 30rem at 100% 0%, rgba(196, 168, 112, 0.04), transparent 70%),
        linear-gradient(180deg, #090D14 0%, #080C12 100%);
}

/* Light: almost flat, whisper of warm tone */
[data-theme="light"] .ambient-gradient {
    background:
        radial-gradient(60rem 50rem at 20% -20%, rgba(184, 115, 74, 0.03), transparent 70%),
        radial-gradient(40rem 40rem at 80% 10%, rgba(154, 93, 56, 0.02), transparent 70%),
        linear-gradient(180deg, #FAF8F5 0%, #F7F5F1 100%);
}

/* ── Grid — barely visible reference dots ── */

.ambient-grid {
    background-image:
        radial-gradient(circle, var(--mat-dot) 0.6px, transparent 0.6px);
    background-size: 24px 24px;
    mask-image: radial-gradient(ellipse 70% 70% at 50% 40%, black 20%, transparent 80%);
    opacity: 0.5;
}

[data-theme="light"] .ambient-grid {
    background-image:
        radial-gradient(circle, rgba(0, 0, 0, 0.025) 0.5px, transparent 0.5px);
    background-size: 20px 20px;
    mask-image: none;
    opacity: 0.4;
}

.ambient-noise {
    opacity: 0.025;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.86' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)'/%3E%3C/svg%3E");
}

[data-theme="light"] .ambient-noise {
    opacity: 0.018;
}

/* ── Mat lines — near-invisible ── */

.ambient-mat {
    background-image:
        repeating-linear-gradient(90deg,
            transparent,
            transparent 99px,
            var(--mat-line) 99px,
            var(--mat-line) 100px),
        repeating-linear-gradient(0deg,
            transparent,
            transparent 99px,
            var(--mat-line) 99px,
            var(--mat-line) 100px);
    opacity: 0.4;
}

[data-theme="light"] .ambient-mat {
    display: none;
}

/* ── Blobs — very subtle, slow ── */

.ambient-blob {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.08;
    animation: floatBlob 24s ease-in-out infinite;
    contain: layout style;
}

.blob-a {
    width: 28rem;
    height: 28rem;
    left: -10rem;
    bottom: 10rem;
    background: var(--accent);
}

.blob-b {
    width: 22rem;
    height: 22rem;
    right: 0;
    top: 22rem;
    background: var(--warm);
    animation-delay: 8s;
}

@keyframes floatBlob {

    0%,
    100% {
        transform: translateY(0) scale(1);
    }

    50% {
        transform: translateY(-24px) scale(1.03);
    }
}

/* ── Top Banner — minimal ── */

.top-note {
    padding: 10px 18px;
    text-align: center;
    font-size: 10.5px;
    font-weight: 500;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: var(--text-muted);
    border-bottom: 1px solid var(--line);
    background: rgba(9, 13, 20, 0.60);
    backdrop-filter: blur(10px);
}

[data-theme="light"] .top-note {
    background: rgba(250, 248, 245, 0.70);
    color: var(--text-muted);
    border-color: var(--line);
    backdrop-filter: blur(10px);
}

/* ── Reduced Motion — Global Override ── */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    [data-reveal] {
        opacity: 1 !important;
        transform: none !important;
    }

    [data-stagger-item] {
        opacity: 1 !important;
        transform: none !important;
        transition-delay: 0s !important;
    }

    .ambient-blob {
        animation: none !important;
    }
}